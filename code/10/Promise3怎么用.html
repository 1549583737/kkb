<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.min.js"></script>
    <script>
        function createPromise(url) {
            return new Promise(function (resolve, reject) {
                //异步代码
                //resolve --成功了
                //reject --失败了
                $.ajax({
                    url: url,
                    // dataType: 'json',
                    success: function (data) {
                        // alert(data);
                        resolve(data);
                    },
                    error: function (err) {
                        reject(err);
                    }
                });
            })
        }

        // let p1 = new Promise(function (resolve, reject) {
        //     //异步代码
        //     //resolve --成功了
        //     //reject --失败了
        //     $.ajax({
        //         url: 'arr',
        //         // dataType: 'json',
        //         success: function (data) {
        //             // alert(data);
        //             resolve(data);
        //         },
        //         error: function (err) {
        //             console.log('arr失败了', err);
        //             reject(err);
        //         }
        //     });
        // });
        // let p2 = new Promise(function (resolve, reject) {
        //     //异步代码
        //     //resolve --成功了
        //     //reject --失败了
        //     $.ajax({
        //         url: 'tsconfig.json',
        //         dataType: 'json',
        //         success: function (data) {
        //             // alert(data);
        //             resolve(data);
        //         },
        //         error: function (err) {
        //             console.log('json失败了', err);
        //             reject(err);
        //         }
        //     });
        // });
        Promise.all([
            // 'arr', 'tsconfig.json'
            createPromise('arr'), createPromise('tsconfig.json')
        ]).then(function (arr) {
            alert('全都成功了');
            let [res1, res2] = arr;
            console.log('res1: ', res1);
            console.log('res2: ', res2);


        }, function () {
            alert('至少有一个失败了');
        })
    </script>
</head>
<body>

</body>
</html>